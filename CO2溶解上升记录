                      2025.12.1 海洋环境下CO2气泡溶解上升的文献调研：
1.CO₂在海水中的应用背景：碳封存时管道受损导致CO₂在浅海处泄漏，以气泡的形式溶解上升。CO₂被运送到深海处，以液滴的形式溶解上升，最后完全溶解到海水中。
2.在模拟实验研究中， CO₂气泡和液滴均完全溶解，在调研的实验研究中，也给出了预测的完全溶解的结果
3.没有找到直接说明CO2气泡在海洋环境下溶解上升时的气泡轨迹，给出了化工背景下CO2气泡溶解上升时的气泡轨迹变化：随着CO2气泡的不断上升，轨迹由螺旋波动明显过渡到波动幅度显著减小。
4.溶解引起的体积变化对气泡轨迹的影响：
  1）CO2溶解上升时轨迹变化对应的Re，Bo的范围
  2）CO2在海洋环境下溶解上升时的Re、Bo的范围
  由1）和2）来判断CO2在海洋环境下溶解上升时轨迹变化对应的Re、Bo
  3）空气气泡上升时轨迹变化对应的Re、Bo的范围

                    2025.12.2 不溶解气泡上升时传质代码的阅读
1.亨利常数
  亨利常数He决定了气体在液体中的溶解度。它描述了气体在液体界面处的平衡浓度 与 该气体压力之间的关系。即：
  C=p/H,其中​C：溶解到水中的气体浓度（mol/m³），p：气体分压（Pa），H：亨利常数
  He 越大 → 气体越不容易溶解 He 越小 → 气体越容易溶解
2.施密特数Sc
  施密特数Sc定义为运动黏滞系数和分子扩散系数的比值，用来描述同时有动量扩散及质量扩散的流体。
  Sc=ν​/D,其中v定义为运动黏度，描述流体内部动量扩散的量；D定义为溶质扩散系数，描述质量扩散的量
  Sc 大（>1000），质量扩散慢，浓度边界层很薄，溶质扩散不明显。Sc 小（~1），质量扩散快，边界层比较厚，溶质快速扩散。
3.扩散系数D
  扩散系数D描述了在没有流体速度（即没有对流）的情况下，溶质分子仅靠随机热运动在流体中扩散的快慢。
4.对应fraction(f, φ);
    ⎧  1 ，​ϕ>0
 f= ⎨  0 ，ϕ<0
    ⎩ 0 到 1， ϕ=0（界面附近，由重构决定）​
  对于代码中的- (sq(bubble_radius) - sq(x - box_size*0.2) - sq(y))，当它大于0时，f=1，此时(x−x0​)2+y2>r2，即在气泡外面。
5.c_l[] = f[] ? 0.0 : He * rho2;
  三元运算符：检查 f[] 的值。如果它是真（非零），则将 c_l[] 设为 0.0；否则，将 c_l[] 设为 He 乘以 rho2 的积。
  即if（f[]!=0）cl[]=0;else cl[]=He*rho2;

                  2025.12.3 不溶解气泡上升时传质代码的阅读
1.ci += 1.0*(1. - f[])*dv();//solute mass in bubble inside where solute concentration is 1.0
    co += c_l[]*f[]*dv();   //solute mass in water where solute concentration is cl
    计算气泡内ci和气泡外co的溶质质量，其中气泡内溶质浓度使用1，气泡外溶质浓度使用cl
2.coord n = interface_normal (point, f), p;
  Basilisk 内置函数，返回当前界面单元的单位法向量n（类型是 coord，即 {nx, ny, nz}）。
  计算方法通常是：n = ∇f / ||∇f||（Youngs 法或 Height-function 改进版）。
  p 是一个临时变量，稍后会用来存放界面平面在该单元内的中心位置。
3.double alpha = plane_alpha (f[], n);  
  计算平面常数 α，使得平面方程 n·(x - x0) = α
在 VOF 重构中，界面在每个切割单元内被近似为一个平面：n · x = α    （等价于 n·(x - p) = 0，其中 p 是平面上的点）
plane_alpha(f[], n) 根据当前单元的体积分数值 f[] 和法向 n，反推出这个 α。它的核心作用是：已知法向 + 体积分数 → 确定平面位置。
4.double area_local = pow(Delta, dimension - 1)*plane_area_center (n, alpha, &p);
  计算该单元内界面多边形的面积
  plane_area_center(n, alpha, &p) 是 Basilisk 的核心几何函数，它做的事情是：
  1）在当前立方体（或正方形）单元内，用平面 n·x = α 去切割单元。
  2)计算切割后得到的界面多边形（2D 是线段，3D 是多边形）的面积。
  3)同时把这个多边形的形心（几何中心） 写入 p（这就是为什么传 &p）。
  pow(Delta, dimension-1)：
Delta 是当前网格的网格间距（可能经过 AMR 自适应加密）。
在 2D：面积 ∝ Delta¹ 在 3D：面积 ∝ Delta²
所以用 Delta^(dimension-1) 把无量纲的几何面积转换回真实物理面积。
因此 area_local 就是当前这个网格单元贡献的真实界面面积。
5.if (metric_embed_factor) area_local *= metric_embed_factor (point, p);
  嵌入几何（embedded boundaries）或曲率坐标修正.
 在一些特殊几何中（如圆柱、球坐标，或使用 embedded solid），网格不是标准的笛卡尔网格，面积需要乘一个修正因子。
6.coef
  从当前网格的液相质心（volume-center of the liquid fraction）/气相质心到界面的垂直距离”，
并且它已经被无量纲化（除以了 Delta），取值范围大约是 0 ∼ 0.5
7.normalize(&n);
  归一化处理界面法向量
8.Henry定律
  什么是Henry定律：一个装满纯水的水杯
  往水杯里通一点纯 CO₂ 气体（比如可乐里的气泡）
  过一会儿，气液界面会达到“平衡”：
  气泡里的 CO₂ 会不断溶解到水里
  同时，水里已经溶解的 CO₂ 也会跑回气泡里
  平衡时，这两个方向的速率相等 → 净流量为 0
Henry 定律说的就是这个平衡状态下，气液两侧浓度满足一个比例关系：
气相侧的浓度 × Henry 常数 = 液相侧的浓度  （此时He 是无量纲的分配系数 大约90%用这种方式）或者 液相侧浓度=Henry常数 * 气相分压（此时He 有量纲（mol/(L·atm)），常见于化学工程）
9.double cc_int = He; 
                  2025.12.4  不溶解气泡上升时传质代码的阅读 
1. double grad = dirichlet_gradient(point, c_l, f, n, p, cc_int, &coef);  计算沿法向方向的浓度梯度
2.mass_flux += D1 * grad * area_local;
  根据菲克定律，计算扩散通量：假设从高浓度区域往低浓度流的通量大小与浓度梯度（空间导数）成正比，通过这个假设，菲克第一定律把扩散通量与浓度联系起来。在一维空间下的菲克定律如下：
      J = − D *（∂ ϕ/ ∂ x）
  然后计算：扩散的质量流量（从界面扩散出去的总质量通量）=扩散通量*界面面积
3.double kl =  mass_flux / area / (ci*He / vb - co / statsf(f).sum);  //calculate the mass transfer coefficient
  double kl2 = mass_flux / area / He;         //Simplify calculations 
  double sh = kl * 2.0 * bubble_radius / D1;  //sherwood number L=2R
  double sh2 = kl2 * 2.0 * bubble_radius / D1;
  1）基于 双膜理论 (Two-Film Theory) 或标准的传质公式来反推传质系数kL
  公式的物理核心是：通量 = 传质系数 × 浓度驱动力
  即：      J=kL×ΔC
  由此变形得到：       kL=J/ΔC
  分母 (ci*He / vb - co / statsf(f).sum) 代表的是浓度差，即传质的驱动力。通常写作(C∗−Cbulk)。
  第一项：界面处的平衡浓度 (C∗或  Csat)    (ci / vb) * He: 根据亨利定律，气相浓度乘以亨利常数，等于气液界面处液侧的平衡饱和浓度。
  第二项：主体液相浓度 (Cbulk或 C∞)   co / statsf(f).sum: 外部流体的平均体相浓度
  2）是一个更简单的替代公式：kl=JH   界面浓度 ≈H（液相界面浓度只由亨利定律决定）
    远场浓度可忽略 C∞≈0
  kl2 是一种 近似（simplified）界面法。
  使用 Sherwood 数定义：Sh=kl*L/D 对于气泡：特征长度：L=2R（直径）
  kl, sh 是高精度的（全局质量守恒）
  kl2, sh2 是快速估计的（近似界面法）
4.squares ("c_l", spread = -1, linear = true, map = cool_warm);绘制液相浓度场 c_l分布图
  mirror ({0,1}) {                       关于 y=0 轴镜像，绘制另一分布图
    squares ("u.x", spread = -1, linear = true, map = cool_warm); 绘制水平速度 u.x 的分布
    draw_vof ("f");
5.event阅读
相比于之前看的bubble.c的event，该event多了event metric
